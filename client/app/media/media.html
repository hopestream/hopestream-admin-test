<div class="container" data-ng-if="vm.media">
    <p><a data-ui-sref="media-list"><i class="fa fa-angle-left"></i> &nbsp;Back to Media List</a></p>

    <h1>{{ vm.media | mediaDisplayName }}</h1>

    <p class="hs-page-subheading">
        <span data-ng-if="vm.media.date">{{ vm.media.date | date: 'EEEE MMM d, yyyy' }}</span>
        <span data-ng-if="vm.media.date">{{ vm.media.date | date: 'h:mm a' }}</span>
    </p>

    <section class="hs-media-status">
        <hs-media-status status="{{ vm.media.status }}"></hs-media-status>
        <span class="hs-media-status-description">{{ vm.media.status | mediaStatusDescription }}</span>
    </section>

    <div class="hs-expand-collapse-all-buttons">
        <button class="btn btn-default" data-ng-click="
            vm.isDetailsSectionCollapsed   = false;
        ">
            <i class="fa fa-2x fa-angle-down"></i>
        </button>

        <button class="btn btn-default" data-ng-click="
            vm.isDetailsSectionCollapsed   = true;
        ">
            <i class="fa fa-2x fa-angle-up"></i>
        </button>
    </div>


    <!-- FORM -->
    <section class="hs-content-section">
        <button type="button" class="btn btn-default pull-right hs-collapse-toggle" data-ng-click="vm.isDetailsSectionCollapsed = !vm.isDetailsSectionCollapsed">
            <i class="fa fa-2x fa-angle-down" data-ng-show="vm.isDetailsSectionCollapsed"></i>
            <i class="fa fa-2x fa-angle-up" data-ng-show="!vm.isDetailsSectionCollapsed"></i>
        </button>

        <h2>Details</h2>

        <div data-uib-collapse="vm.isDetailsSectionCollapsed">
            <hs-media-form media-id="{{ vm.id }}"></hs-media-form>
        </div>
    </section>


    <!-- IMAGE -->
    <section class="hs-content-section">
        <button type="button" class="btn btn-default pull-right hs-collapse-toggle" data-ng-click="vm.isImageSectionCollapsed = !vm.isImageSectionCollapsed">
            <i class="fa fa-2x fa-angle-down" data-ng-show="vm.isImageSectionCollapsed"></i>
            <i class="fa fa-2x fa-angle-up" data-ng-show="!vm.isImageSectionCollapsed"></i>
        </button>

        <h2>Image</h2>

        <div class="row" data-uib-collapse="vm.isImageSectionCollapsed">
            <div class="col-sm-4 hs-media-image-section-instructions">
                <p>Upload an image for this media.</p>
                <p>Image must be in <strong>.jpg</strong> format.</p>

                <hs-media-image-upload media-id="{{ vm.id }}"></hs-media-image-upload>
            </div>

            <div class="col-sm-8 hs-media-image-section-preview" data-ng-if="vm.shouldShowMediaImage">
                <img class="img-responsive" alt="Poster Image" data-ng-src="{{ vm.imageFileUrl }}" data-hs-media-image>
            </div>
        </div>
    </section>


    <!-- VIDEO -->
    <section class="hs-content-section" data-ng-if="vm.media.type === 0">
        <button type="button" class="btn btn-default pull-right hs-collapse-toggle" data-ng-click="vm.isVideoSectionCollapsed = !vm.isVideoSectionCollapsed">
            <i class="fa fa-2x fa-angle-down" data-ng-show="vm.isVideoSectionCollapsed"></i>
            <i class="fa fa-2x fa-angle-up" data-ng-show="!vm.isVideoSectionCollapsed"></i>
        </button>

        <h2>Video</h2>

        <section data-uib-collapse="vm.isVideoSectionCollapsed">

            <!-- If status: Error -->
            <div class="hs-video-player-placeholder" data-ng-if="vm.media.status === 4">
                <h3>Video preview not available</h3>
                <p>Please upload your media content again.</p>
            </div>

            <!-- If status: Uploading -->
            <div class="hs-video-player-placeholder" data-ng-if="vm.media.status === 0">
                <h3>Video preview not available</h3>
                <p>Your media is currently uploading.</p>
            </div>

            <!-- If status: Uploaded or Processing -->
            <div class="hs-video-player-placeholder" data-ng-if="vm.media.status === 1 || vm.media.status === 2">
                <h3>Video preview coming soon</h3>
                <p>Preview will be available once your media is finished processing.</p>
            </div>

            <!-- If status: Available -->
            <div class="hs-video-player" data-ng-if="vm.media.status === 3">
                <hs-video-player url="{{ vm.videoPlayerUrl }}"></hs-video-player>
            </div>

            <h3>URLs</h3>

            <div class="hs-media-url" data-ng-repeat="url in vm.videoURLs">
                <label>{{ url.label }}</label>
                <div class="input-group">
                    <input type="text" class="form-control" value="{{ url.url }}" readonly>
                    <span class="input-group-btn">
                        <button class="btn btn-default hs-copy-url-button" data-clipboard data-text="url.url"
                            data-on-copied="vm.copyToClipboardSuccess()"
                            data-on-error="vm.copyToClipboardError(error)">

                            <i class="fa fa-clipboard"></i>&nbsp; Copy
                        </button>
                    </span>
                </div>
            </div>
        </section>
    </section>


    <!-- AUDIO -->
    <section class="hs-content-section">
        <button type="button" class="btn btn-default pull-right hs-collapse-toggle" data-ng-click="vm.isAudioSectionCollapsed = !vm.isAudioSectionCollapsed">
            <i class="fa fa-2x fa-angle-down" data-ng-show="vm.isAudioSectionCollapsed"></i>
            <i class="fa fa-2x fa-angle-up" data-ng-show="!vm.isAudioSectionCollapsed"></i>
        </button>

        <h2>Audio</h2>

        <div data-uib-collapse="vm.isAudioSectionCollapsed">

            <!-- If status: Error -->
            <div class="hs-audio-player-placeholder" data-ng-if="vm.media.status === 4">
                <h3>Audio preview not available</h3>
                <p>Please upload your media content again.</p>
            </div>

            <!-- If status: Uploading -->
            <div class="hs-audio-player-placeholder" data-ng-if="vm.media.status === 0">
                <h3>Audio preview not available</h3>
                <p>Your media is currently uploading.</p>
            </div>

            <!-- If status: Uploaded or Processing -->
            <div class="hs-audio-player-placeholder" data-ng-if="vm.media.status === 1 || vm.media.status === 2">
                <h3>Audio preview coming soon</h3>
                <p>Preview will be available once your media is finished processing.</p>
            </div>

            <div class="hs-audio-player" data-ng-if="vm.media.status === 3">
                <hs-media-player setup="vm.audioPlayerOptions" data-ng-if="vm.audioPlayerOptions"></hs-media-player>
            </div>

            <h3>URLs</h3>

            <div class="hs-media-url" data-ng-repeat="url in vm.audioURLs">
                <label>{{ url.label }}</label>
                <div class="input-group">
                    <input type="text" class="form-control" value="{{ url.url }}" readonly>
                    <span class="input-group-btn">
                        <button class="btn btn-default hs-copy-url-button" data-clipboard data-text="url.url"
                            data-on-copied="vm.copyToClipboardSuccess()"
                            data-on-error="vm.copyToClipboardError(error)">

                            <i class="fa fa-clipboard"></i>&nbsp; Copy
                        </button>
                    </span>
                </div>
            </div>
        </div>

    </section>

    <p><a data-ui-sref="media-list"><i class="fa fa-angle-left"></i> &nbsp;Back to Media List</a></p>
</div>

<div class="container" data-ng-if="!vm.media">
    <section class="hs-loading-view">
        <h1>Loading Details</h1>
        <p class="lead">Please wait one moment.</p>
        <span id="spinner" us-spinner></span>
    </section>
</div>
